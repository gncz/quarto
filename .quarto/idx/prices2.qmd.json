{"title":"The Tastetime continuum","markdown":{"yaml":{"title":"The Tastetime continuum","format":"html"},"headingText":"The problem formulation","containsRefs":false,"markdown":"\n\nOur money, as a measure of value, should be a to help us make real world choices, even as the alternatives are expressed in nominal currency terms.\nIt is a function of money it should be able to serve, by definition.\nDecisions over spending and/or saving is essentially the individual's past, the present and future compressed into simple numbers.\n\nHowever, the people of the world today must navigate in a floating currency environment, where the value of the each currency changes, not only due to the real market conditions, but also according to the present **money supply**.\n\nThe root of the problem is, that our past decisions are irreversible, while the present value of past decisions fluctuate, according to the money supply. \n\nThis page is lamentation for this conundrum.\n\n## M2 as a proxy for the Money Supply\n\nM2 is a measurement including everything that constitutes near-monies. Compared to the general M1 it is a broader definition of the current money supply.\n\nM2 includes the assets that are highly liquid therefore could within a short period of time be converted into cash or deposits. \n\n**M2 = Currency + Checking accounts + Savings accounts + Small CDs + Retail money market funds**\n\n*Find more: \nBoard of Governors of the Federal Reserve System. (n.d.). What is the money supply? Is it important? https://www.federalreserve.gov/faqs/money_12845.htm*\n\nThe following is the visualiziation to show USD money supply expressed in USD:\n\n```{python}\n\nimport os as os \nimport pandas as pd\nimport requests\nimport fredapi as Fred\nimport plotly.express as px\nimport plotly.io as pio\npio.templates.default = \"plotly_white\"\n\n\n#Using the FRED api key\napi_key = os.environ.get(\"FRED_API_KEY\")\n\n#Referencing the selected graph\nseries_id_USA = \"M2SL\"\n\n#The API link call and params\nurl = \"https://api.stlouisfed.org/fred/series/observations\"\nparams_usa = {\n    \"series_id\": series_id_USA,\n    \"api_key\": api_key,\n    \"file_type\": \"json\"\n}\n\n#The request\nr_usa = requests.get(url, params=params_usa)\n\n#The data\ndata_usa = r_usa.json()\n\n#Formating into a friendly format\ndf_usa = pd.DataFrame(data_usa['observations'])\ndf_usa = df_usa.reset_index()\ndf_usa['date'] = pd.to_datetime(df_usa['date'])\ndf_usa['value'] = pd.to_numeric(df_usa['value'])\n\n```\n\n```{python}\n# Calling the plot\nfig = px.line(df_usa,\n              x=\"date\",\n              y=\"value\",\n              title=\"M2 Money Stock (Monthly, Seasonally Adjusted)\",\n              labels={\"date\":\"Date\", \"value\":\"M2 (USD billions)\"},\n              markers=True)\n\n# X axis is self-evident\nfig.update_layout(\n    xaxis_title=None\n)\n\nfig.update_traces(\n    line_color='blue',\n    line_width=3\n)\n\nfig.show()\n```\n\\\nI believe the general trend is unmistakable. This data point in itself is not enough to make have any solid conclusion, outside of the observation that something is happening. For some reason.\n\n\n## Hungarian money supply\n\nBelow is the Hungarian money supply over the very same years. \nFor the sake of accuracy this is officially the M3 not the M2 level. But I believe this does not hurt the general intent of the reasoning.\n\n```{python}\n\n#Hun M3 for lack of a better one\nseries_id_hun = \"MABMM301HUM189S\"\n\n#The API link call and params\nurl = \"https://api.stlouisfed.org/fred/series/observations\"\nparams_hun = {\n    \"series_id\": series_id_hun,\n    \"api_key\": api_key,\n    \"file_type\": \"json\"\n}\n\n#The request\nr_hun = requests.get(url, params=params_hun)\n\n#The data\ndata_hun = r_hun.json()\n\n#Formating into a friendly format\ndf_hun = pd.DataFrame(data_hun['observations'])\ndf_hun = df_hun.reset_index()\ndf_hun['date'] = pd.to_datetime(df_hun['date'])\ndf_hun['value'] = pd.to_numeric(df_hun['value'])\n```\n\n\n```{python}\n# Calling the plot\nfig = px.line(df_hun,\n              x=\"date\",\n              y=\"value\",\n              title=\"M3 Money Stock (Monthly, Seasonally Adjusted)\",\n              labels={\"date\":\"Date\", \"value\":\"M2 (HUF)\"},\n              markers=True)\n\n# X axis is self-evident\nfig.update_layout(\n    xaxis_title=None\n)\n\nfig.update_traces(\n    line_color='goldenrod',\n    line_width=3\n)\n\nfig.show()\n```\n\\\nA simple correlation between the two charts are visible without any stastical proof. To insert a fantastic quote. \n\n> \"You can observe a lot by watching\"\n>                           Yogi Berra\n\n\nWe can safely deduct that the two charts follow each other closely. Although for different reasons. \nUSD being the reserve currency could be expanded without suffering the drawback the Forint might ceteris paribus.\nThat being said, the Forint had room to be expanded if the reserve currency is doing the same. Basically following the course of the dollar.\n\n## Bringing it down to the ground\n\nFiat money is nominal. The experienced world seems less so. \nTherefore in order anchor it down to something real, we need a common ground. \nTo explore what might have happened to the consumers I will take a look at Big Mac index.\nIt is a well-established tool, originally published by the Economist, with rich academic background. \n\n### The Big Mac index \n\n\n```{python}\n#the source\nurl_bm_index=\"https://raw.githubusercontent.com/TheEconomist/big-mac-data/refs/heads/master/source-data/big-mac-source-data-v2.csv\"\n\n#the two countries\nreq_cntries = ['HUN', 'USA']\n\n#filtering\ndf_bm_souce=pd.read_csv(url_bm_index)\ndf_bm=df_bm_souce[df_bm_souce['iso_a3'].isin(req_cntries)]\n```\n\nThe first chart demonstrates the local price of the Big Mac in these countries.\nThe brilliance of this is, that the essential value of the product is effectively the same. This traverses time and space, which my simple diagrams also intend to achieve.\nEverything that is dependent on technology gets outdated and or depreciated over time. Other products might have huge cultural and local variations. Big Mac is free of these burdens. \n\nWriting these lines, it occured me that subscriptions prices in different countries could serve the same, or even better proxy for the purchasing power proxy. Given if enough data are gathered in the future.\n\n\n```{python}\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots\nimport pandas as p\n\nfig = make_subplots(specs=[[{\"secondary_y\":True}]])\n\nfig.add_trace(\n    go.Scatter(\n        x=df_bm[df_bm['iso_a3']=='HUN']['date'],\n        y=df_bm[df_bm['iso_a3']=='HUN'][\"local_price\"],\n        name=\"Price in Hungarian Forints\",\n        mode='lines+markers',\n        line=dict(color='goldenrod')\n    ),\n    secondary_y=False,\n)\nfig.add_trace(\n    go.Scatter(\n        x=df_bm[df_bm['iso_a3']=='USA'][\"date\"],\n        y=df_bm[df_bm['iso_a3']=='USA'][\"local_price\"],\n        name=\"Price in USA Dollars\",\n        mode='lines+markers',\n        line=dict(color='blue')\n    ),\n    secondary_y=True,\n)\nfig.update_layout(\n    title_text=\"Big Mac in local prices\",\n    hovermode='x unified',\n    legend=dict(yanchor=\"top\", y=0.9, xanchor='left',x=0.01)\n\n)\nfig.update_yaxes(\n    title_text=\"Price in Hungarian Forint\",\n    secondary_y=False,\n    color='goldenrod'\n\n)\nfig.update_yaxes(\n    title_text=\"Price in USA Dollars\",\n    secondary_y=True,\n    color='blue'\n)\nfig.update_yaxes(\n    title_text=\"Price in Hungarian Forint\",\n    secondary_y=False,\n    color='goldenrod'\n\n)\nfig.show()\n```\n\\\n\n>The figure shows that there was a general uptrend in prices, although in Hungary there was a 5 year period of tranquility where the prices stayed flat.\n\nEven in this post financial crises period, the Hungarian money supply expanded substantially from 17T to 23T. Nonetheless the price of the Big Mac flatlined this. This might point to the fact, that there were real growth present in the Hungarian economy during this period, which could accomodate the extra money supply without causing inflation.\n\nSecondary, the impact of the rapid price increase starting 2020 is paramount. \nMeaning that any theoretical person who was saving Forints before 2020 to buy Big Macs after 2020 had to face the grim fact, that their calculations were fundamentally altered during the currency expansion.\nThis leads us back the first point. Our theoretical persons past decisions had been overwritten for the worst. Losing past time and utility forever.\nLeading the argument in another way, the units of Forints did not traverse space and time intact. \n\n## Going further\n\nThe local price increases without further information might be too little to showcase the **real prices** of the the product.\n\nIt could very well happen that a currency is losing its posture to another currency while the currency users are not exposed to his to the same degree.\n\nFor a simple definition the purchasing power expresses how the Forint could be translated into products on the local market.\n\n```{python}\n#Purchasing parity power\n\n#Date as and index for my sets of interests\ndf_bm = df_bm.set_index('date')\n\n#Selecting the local price and put them series into frames\ndf_hun = df_bm[df_bm['iso_a3']=='HUN'][\"local_price\"].to_frame()\ndf_usd = df_bm[df_bm['iso_a3']=='USA'][\"local_price\"].to_frame()\n\n#Creating a new table from the frames\ndf_ppp= df_hun.merge(df_usd, \n            left_index=True, \n            right_index=True, \n            suffixes=('_HUF','_USD'))\n\n#Calculating purchasing power\ndf_ppp['ppp'] = round(df_ppp['local_price_HUF'] / df_ppp['local_price_USD'],2)\n\n#Joining the dollar real exchange rate\ndf_ppp = df_ppp.merge(df_bm[df_bm['iso_a3']=='HUN']['dollar_ex'], on = 'date', how='inner')\n\n#Calculating misvaluation\ndf_ppp['misval']= round((df_ppp['ppp'] - df_ppp['dollar_ex'])/df_ppp['dollar_ex'],2)*100\n```\n\n\n```{python}\n#Making 1x2 subplots\nfig = make_subplots(\n    rows=1,\n    cols=2,\n    shared_xaxes=True,\n    horizontal_spacing=0.08,\n    subplot_titles=('Dollar price in HUF versus Implied PP','Misvaluation in percentage')\n    )\nfig.add_trace(go.Scatter(\n    x=df_ppp.index,\n    y=df_ppp['dollar_ex'],\n    mode='lines+markers',\n    name='Dollar exchange rate'\n), row=1, col=1\n)\nfig.add_trace(go.Scatter(\n    x= df_ppp.index,\n    y= df_ppp['ppp'],\n    mode='lines+markers',\n    name='Implied PP Rate'\n), row=1, col=1\n)\nfig.add_trace(go.Scatter(\n        x=df_ppp.index,\n        y=df_ppp['misval'],\n        mode='lines+markers',\n        name='Missvaluation in percentages'\n), row=1, col=2\n)\nfig.update_yaxes(#title='Missvaluation in percentages' \nrow=1, col=2, ticksuffix = '%', range = [-100,100])\nfig.update_yaxes(#title='Measured', \nticksuffix=' HUF', row=1, col=1)\n\nfig.update_layout(\n    legend=dict(\n        orientation='h',\n        yanchor='bottom',\n        y=-0.3,\n        xanchor='left'\n    )\n)\n```\n\\\n\n>The above chart showcases, that the Forint has held its purchasing power in Big Macs. Even though the Forint's value decreased to dollars. Puting it another way, the depreciation of Forint to Dollars did not effect the price of Big Macs for the consumers on the local market.\n\nThe chart on the rights points out that the forint is still undervalued.\nIf the sellers of the Big Macs product on the hungarian market were entirely account in dollars, should they raise prices to balance this. Luckily, this is has not been the case.\n\n## By units of Big Mac\n\nLastly, I'd like to relate the income of the economic actors measured in GDP per capita to the price of the Big Mac on the local market.\n\nPractically speaking, this measure is to express how many Big Macs one might get, having spent their entire income on this product.\n\nThis will show two things:\\\n1. How real income (expressed in Big Macs), changed over time in the countries\\\n2. How the two countries fared to each other\n\n\n```{python}\n#date2 to work with\ndf_bm['date2'] = df_bm.index\n\n#Calculating bigmac per capita for each country\ndf_bm['rel']=round(df_bm['GDP_local']/df_bm['local_price'],2)\n\n#base in hun 2015\nbase_date= '2015-01-01'\nprice_2015_hun=df_bm[(df_bm['name']=='Hungary') & (df_bm['date2']==base_date)]['rel'].iloc[0]\n\n#base in usa 2015   \nprice_2015_usa=df_bm[(df_bm['name']=='United States') & (df_bm['date2']==base_date)]['rel'].iloc[0]\n\n#based index\ndf_bm_hun= df_bm[df_bm['iso_a3']=='HUN'].copy()\ndf_bm_hun['based']= df_bm_hun['rel']/price_2015_hun\n\n#based index\ndf_bm_usa= df_bm[df_bm['iso_a3']=='USA'].copy()\ndf_bm_usa['based']= df_bm_usa['rel']/price_2015_usa\n\n#putting them into a wide format for the fig\ndf_merged_bm_rel = pd.merge(\n    df_bm_hun[['date2','based']],\n    df_bm_usa[['date2','based']],\n    on='date2',\n    how='inner',\n    suffixes=('_HUN','_USA')\n)\n```\n\n```{python}\nfig = make_subplots(\n    rows=1,\n    cols=2,\n    shared_xaxes=True,\n    horizontal_spacing=0.08,\n    subplot_titles=('Big Macs per capita over time','Big Macs per capita indexed to 2010 price level')\n    )\n\nfig.add_trace(go.Scatter(\n    x=df_merged_bm_rel['date2'],\n    y=df_merged_bm_rel['based_HUN'],\n    mode='lines+markers',\n    name='Big Macs per capita indexed to 2010 Hungary'\n),row=1, col=2\n)\n\nfig.add_trace(go.Scatter(\n    x=df_merged_bm_rel['date2'],\n    y=df_merged_bm_rel['based_USA'],\n    mode='lines+markers',\n    name='Big Macs per capita indexed to 2010 USA'\n),row=1, col=2\n)\n\nfig.add_trace(go.Scatter(\n    x=df_bm_hun['date2'],\n    y=df_bm_hun['rel'],\n    mode='lines+markers',\n    name='Big Macs per capita in Hungary'\n),row=1,col=1)\n\nfig.add_trace(go.Scatter(\n    x=df_bm_usa['date2'],\n    y=df_bm_usa['rel'],\n    mode='lines+markers',\n    name='Big Macs per capita in the USA'\n),row=1,col=1)\n\nfig.update_layout(\n    legend=dict(\n        orientation='h',\n        yanchor='bottom',\n        y=-0.3,\n        xanchor='left'\n    )\n)\n```\n\\\n\nThe diagram on the right, indexed to 2010, shows that on the USD market, the consumers could afford 14% more units of Big Macs as of 2025.\nThe consumers on the Forint market are now able to get around 50% more.\nOver a 15 years timespan this is an equavilent of the \n`{python} round((1.52**(1/15) -1)*100,2)`% annual growth.\n\\\nThe bulk of this increase has happened between 2015 and 2020, as noted previously. After 2020 up until 2025 a period of income stagnation, with a visible price adjustment of 2022 likely to match the monetary expansion.\n\n","srcMarkdownNoYaml":"\n## The problem formulation\n\nOur money, as a measure of value, should be a to help us make real world choices, even as the alternatives are expressed in nominal currency terms.\nIt is a function of money it should be able to serve, by definition.\nDecisions over spending and/or saving is essentially the individual's past, the present and future compressed into simple numbers.\n\nHowever, the people of the world today must navigate in a floating currency environment, where the value of the each currency changes, not only due to the real market conditions, but also according to the present **money supply**.\n\nThe root of the problem is, that our past decisions are irreversible, while the present value of past decisions fluctuate, according to the money supply. \n\nThis page is lamentation for this conundrum.\n\n## M2 as a proxy for the Money Supply\n\nM2 is a measurement including everything that constitutes near-monies. Compared to the general M1 it is a broader definition of the current money supply.\n\nM2 includes the assets that are highly liquid therefore could within a short period of time be converted into cash or deposits. \n\n**M2 = Currency + Checking accounts + Savings accounts + Small CDs + Retail money market funds**\n\n*Find more: \nBoard of Governors of the Federal Reserve System. (n.d.). What is the money supply? Is it important? https://www.federalreserve.gov/faqs/money_12845.htm*\n\nThe following is the visualiziation to show USD money supply expressed in USD:\n\n```{python}\n\nimport os as os \nimport pandas as pd\nimport requests\nimport fredapi as Fred\nimport plotly.express as px\nimport plotly.io as pio\npio.templates.default = \"plotly_white\"\n\n\n#Using the FRED api key\napi_key = os.environ.get(\"FRED_API_KEY\")\n\n#Referencing the selected graph\nseries_id_USA = \"M2SL\"\n\n#The API link call and params\nurl = \"https://api.stlouisfed.org/fred/series/observations\"\nparams_usa = {\n    \"series_id\": series_id_USA,\n    \"api_key\": api_key,\n    \"file_type\": \"json\"\n}\n\n#The request\nr_usa = requests.get(url, params=params_usa)\n\n#The data\ndata_usa = r_usa.json()\n\n#Formating into a friendly format\ndf_usa = pd.DataFrame(data_usa['observations'])\ndf_usa = df_usa.reset_index()\ndf_usa['date'] = pd.to_datetime(df_usa['date'])\ndf_usa['value'] = pd.to_numeric(df_usa['value'])\n\n```\n\n```{python}\n# Calling the plot\nfig = px.line(df_usa,\n              x=\"date\",\n              y=\"value\",\n              title=\"M2 Money Stock (Monthly, Seasonally Adjusted)\",\n              labels={\"date\":\"Date\", \"value\":\"M2 (USD billions)\"},\n              markers=True)\n\n# X axis is self-evident\nfig.update_layout(\n    xaxis_title=None\n)\n\nfig.update_traces(\n    line_color='blue',\n    line_width=3\n)\n\nfig.show()\n```\n\\\nI believe the general trend is unmistakable. This data point in itself is not enough to make have any solid conclusion, outside of the observation that something is happening. For some reason.\n\n\n## Hungarian money supply\n\nBelow is the Hungarian money supply over the very same years. \nFor the sake of accuracy this is officially the M3 not the M2 level. But I believe this does not hurt the general intent of the reasoning.\n\n```{python}\n\n#Hun M3 for lack of a better one\nseries_id_hun = \"MABMM301HUM189S\"\n\n#The API link call and params\nurl = \"https://api.stlouisfed.org/fred/series/observations\"\nparams_hun = {\n    \"series_id\": series_id_hun,\n    \"api_key\": api_key,\n    \"file_type\": \"json\"\n}\n\n#The request\nr_hun = requests.get(url, params=params_hun)\n\n#The data\ndata_hun = r_hun.json()\n\n#Formating into a friendly format\ndf_hun = pd.DataFrame(data_hun['observations'])\ndf_hun = df_hun.reset_index()\ndf_hun['date'] = pd.to_datetime(df_hun['date'])\ndf_hun['value'] = pd.to_numeric(df_hun['value'])\n```\n\n\n```{python}\n# Calling the plot\nfig = px.line(df_hun,\n              x=\"date\",\n              y=\"value\",\n              title=\"M3 Money Stock (Monthly, Seasonally Adjusted)\",\n              labels={\"date\":\"Date\", \"value\":\"M2 (HUF)\"},\n              markers=True)\n\n# X axis is self-evident\nfig.update_layout(\n    xaxis_title=None\n)\n\nfig.update_traces(\n    line_color='goldenrod',\n    line_width=3\n)\n\nfig.show()\n```\n\\\nA simple correlation between the two charts are visible without any stastical proof. To insert a fantastic quote. \n\n> \"You can observe a lot by watching\"\n>                           Yogi Berra\n\n\nWe can safely deduct that the two charts follow each other closely. Although for different reasons. \nUSD being the reserve currency could be expanded without suffering the drawback the Forint might ceteris paribus.\nThat being said, the Forint had room to be expanded if the reserve currency is doing the same. Basically following the course of the dollar.\n\n## Bringing it down to the ground\n\nFiat money is nominal. The experienced world seems less so. \nTherefore in order anchor it down to something real, we need a common ground. \nTo explore what might have happened to the consumers I will take a look at Big Mac index.\nIt is a well-established tool, originally published by the Economist, with rich academic background. \n\n### The Big Mac index \n\n\n```{python}\n#the source\nurl_bm_index=\"https://raw.githubusercontent.com/TheEconomist/big-mac-data/refs/heads/master/source-data/big-mac-source-data-v2.csv\"\n\n#the two countries\nreq_cntries = ['HUN', 'USA']\n\n#filtering\ndf_bm_souce=pd.read_csv(url_bm_index)\ndf_bm=df_bm_souce[df_bm_souce['iso_a3'].isin(req_cntries)]\n```\n\nThe first chart demonstrates the local price of the Big Mac in these countries.\nThe brilliance of this is, that the essential value of the product is effectively the same. This traverses time and space, which my simple diagrams also intend to achieve.\nEverything that is dependent on technology gets outdated and or depreciated over time. Other products might have huge cultural and local variations. Big Mac is free of these burdens. \n\nWriting these lines, it occured me that subscriptions prices in different countries could serve the same, or even better proxy for the purchasing power proxy. Given if enough data are gathered in the future.\n\n\n```{python}\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots\nimport pandas as p\n\nfig = make_subplots(specs=[[{\"secondary_y\":True}]])\n\nfig.add_trace(\n    go.Scatter(\n        x=df_bm[df_bm['iso_a3']=='HUN']['date'],\n        y=df_bm[df_bm['iso_a3']=='HUN'][\"local_price\"],\n        name=\"Price in Hungarian Forints\",\n        mode='lines+markers',\n        line=dict(color='goldenrod')\n    ),\n    secondary_y=False,\n)\nfig.add_trace(\n    go.Scatter(\n        x=df_bm[df_bm['iso_a3']=='USA'][\"date\"],\n        y=df_bm[df_bm['iso_a3']=='USA'][\"local_price\"],\n        name=\"Price in USA Dollars\",\n        mode='lines+markers',\n        line=dict(color='blue')\n    ),\n    secondary_y=True,\n)\nfig.update_layout(\n    title_text=\"Big Mac in local prices\",\n    hovermode='x unified',\n    legend=dict(yanchor=\"top\", y=0.9, xanchor='left',x=0.01)\n\n)\nfig.update_yaxes(\n    title_text=\"Price in Hungarian Forint\",\n    secondary_y=False,\n    color='goldenrod'\n\n)\nfig.update_yaxes(\n    title_text=\"Price in USA Dollars\",\n    secondary_y=True,\n    color='blue'\n)\nfig.update_yaxes(\n    title_text=\"Price in Hungarian Forint\",\n    secondary_y=False,\n    color='goldenrod'\n\n)\nfig.show()\n```\n\\\n\n>The figure shows that there was a general uptrend in prices, although in Hungary there was a 5 year period of tranquility where the prices stayed flat.\n\nEven in this post financial crises period, the Hungarian money supply expanded substantially from 17T to 23T. Nonetheless the price of the Big Mac flatlined this. This might point to the fact, that there were real growth present in the Hungarian economy during this period, which could accomodate the extra money supply without causing inflation.\n\nSecondary, the impact of the rapid price increase starting 2020 is paramount. \nMeaning that any theoretical person who was saving Forints before 2020 to buy Big Macs after 2020 had to face the grim fact, that their calculations were fundamentally altered during the currency expansion.\nThis leads us back the first point. Our theoretical persons past decisions had been overwritten for the worst. Losing past time and utility forever.\nLeading the argument in another way, the units of Forints did not traverse space and time intact. \n\n## Going further\n\nThe local price increases without further information might be too little to showcase the **real prices** of the the product.\n\nIt could very well happen that a currency is losing its posture to another currency while the currency users are not exposed to his to the same degree.\n\nFor a simple definition the purchasing power expresses how the Forint could be translated into products on the local market.\n\n```{python}\n#Purchasing parity power\n\n#Date as and index for my sets of interests\ndf_bm = df_bm.set_index('date')\n\n#Selecting the local price and put them series into frames\ndf_hun = df_bm[df_bm['iso_a3']=='HUN'][\"local_price\"].to_frame()\ndf_usd = df_bm[df_bm['iso_a3']=='USA'][\"local_price\"].to_frame()\n\n#Creating a new table from the frames\ndf_ppp= df_hun.merge(df_usd, \n            left_index=True, \n            right_index=True, \n            suffixes=('_HUF','_USD'))\n\n#Calculating purchasing power\ndf_ppp['ppp'] = round(df_ppp['local_price_HUF'] / df_ppp['local_price_USD'],2)\n\n#Joining the dollar real exchange rate\ndf_ppp = df_ppp.merge(df_bm[df_bm['iso_a3']=='HUN']['dollar_ex'], on = 'date', how='inner')\n\n#Calculating misvaluation\ndf_ppp['misval']= round((df_ppp['ppp'] - df_ppp['dollar_ex'])/df_ppp['dollar_ex'],2)*100\n```\n\n\n```{python}\n#Making 1x2 subplots\nfig = make_subplots(\n    rows=1,\n    cols=2,\n    shared_xaxes=True,\n    horizontal_spacing=0.08,\n    subplot_titles=('Dollar price in HUF versus Implied PP','Misvaluation in percentage')\n    )\nfig.add_trace(go.Scatter(\n    x=df_ppp.index,\n    y=df_ppp['dollar_ex'],\n    mode='lines+markers',\n    name='Dollar exchange rate'\n), row=1, col=1\n)\nfig.add_trace(go.Scatter(\n    x= df_ppp.index,\n    y= df_ppp['ppp'],\n    mode='lines+markers',\n    name='Implied PP Rate'\n), row=1, col=1\n)\nfig.add_trace(go.Scatter(\n        x=df_ppp.index,\n        y=df_ppp['misval'],\n        mode='lines+markers',\n        name='Missvaluation in percentages'\n), row=1, col=2\n)\nfig.update_yaxes(#title='Missvaluation in percentages' \nrow=1, col=2, ticksuffix = '%', range = [-100,100])\nfig.update_yaxes(#title='Measured', \nticksuffix=' HUF', row=1, col=1)\n\nfig.update_layout(\n    legend=dict(\n        orientation='h',\n        yanchor='bottom',\n        y=-0.3,\n        xanchor='left'\n    )\n)\n```\n\\\n\n>The above chart showcases, that the Forint has held its purchasing power in Big Macs. Even though the Forint's value decreased to dollars. Puting it another way, the depreciation of Forint to Dollars did not effect the price of Big Macs for the consumers on the local market.\n\nThe chart on the rights points out that the forint is still undervalued.\nIf the sellers of the Big Macs product on the hungarian market were entirely account in dollars, should they raise prices to balance this. Luckily, this is has not been the case.\n\n## By units of Big Mac\n\nLastly, I'd like to relate the income of the economic actors measured in GDP per capita to the price of the Big Mac on the local market.\n\nPractically speaking, this measure is to express how many Big Macs one might get, having spent their entire income on this product.\n\nThis will show two things:\\\n1. How real income (expressed in Big Macs), changed over time in the countries\\\n2. How the two countries fared to each other\n\n\n```{python}\n#date2 to work with\ndf_bm['date2'] = df_bm.index\n\n#Calculating bigmac per capita for each country\ndf_bm['rel']=round(df_bm['GDP_local']/df_bm['local_price'],2)\n\n#base in hun 2015\nbase_date= '2015-01-01'\nprice_2015_hun=df_bm[(df_bm['name']=='Hungary') & (df_bm['date2']==base_date)]['rel'].iloc[0]\n\n#base in usa 2015   \nprice_2015_usa=df_bm[(df_bm['name']=='United States') & (df_bm['date2']==base_date)]['rel'].iloc[0]\n\n#based index\ndf_bm_hun= df_bm[df_bm['iso_a3']=='HUN'].copy()\ndf_bm_hun['based']= df_bm_hun['rel']/price_2015_hun\n\n#based index\ndf_bm_usa= df_bm[df_bm['iso_a3']=='USA'].copy()\ndf_bm_usa['based']= df_bm_usa['rel']/price_2015_usa\n\n#putting them into a wide format for the fig\ndf_merged_bm_rel = pd.merge(\n    df_bm_hun[['date2','based']],\n    df_bm_usa[['date2','based']],\n    on='date2',\n    how='inner',\n    suffixes=('_HUN','_USA')\n)\n```\n\n```{python}\nfig = make_subplots(\n    rows=1,\n    cols=2,\n    shared_xaxes=True,\n    horizontal_spacing=0.08,\n    subplot_titles=('Big Macs per capita over time','Big Macs per capita indexed to 2010 price level')\n    )\n\nfig.add_trace(go.Scatter(\n    x=df_merged_bm_rel['date2'],\n    y=df_merged_bm_rel['based_HUN'],\n    mode='lines+markers',\n    name='Big Macs per capita indexed to 2010 Hungary'\n),row=1, col=2\n)\n\nfig.add_trace(go.Scatter(\n    x=df_merged_bm_rel['date2'],\n    y=df_merged_bm_rel['based_USA'],\n    mode='lines+markers',\n    name='Big Macs per capita indexed to 2010 USA'\n),row=1, col=2\n)\n\nfig.add_trace(go.Scatter(\n    x=df_bm_hun['date2'],\n    y=df_bm_hun['rel'],\n    mode='lines+markers',\n    name='Big Macs per capita in Hungary'\n),row=1,col=1)\n\nfig.add_trace(go.Scatter(\n    x=df_bm_usa['date2'],\n    y=df_bm_usa['rel'],\n    mode='lines+markers',\n    name='Big Macs per capita in the USA'\n),row=1,col=1)\n\nfig.update_layout(\n    legend=dict(\n        orientation='h',\n        yanchor='bottom',\n        y=-0.3,\n        xanchor='left'\n    )\n)\n```\n\\\n\nThe diagram on the right, indexed to 2010, shows that on the USD market, the consumers could afford 14% more units of Big Macs as of 2025.\nThe consumers on the Forint market are now able to get around 50% more.\nOver a 15 years timespan this is an equavilent of the \n`{python} round((1.52**(1/15) -1)*100,2)`% annual growth.\n\\\nThe bulk of this increase has happened between 2015 and 2020, as noted previously. After 2020 up until 2025 a period of income stagnation, with a visible price adjustment of 2022 likely to match the monetary expansion.\n\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"jupyter"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"output-file":"prices2.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.8.26","theme":["cosmo","brand"],"layout":{"xaxis":{"font":{"weight":"bold"}}},"title":"The Tastetime continuum"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}